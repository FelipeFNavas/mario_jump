<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="./css/style.css">
  <!-- <script scr="./js/script" defer></script> -->
  <title>Mario Jump</title>
</head>

<body>
  <div class="game-board">
    <img src="./images//mario.gif" class="mario">
    <img src="./images//pipe.png" class="pipe">
    <img src="./images//clouds.png" class="clouds">

  </div>
  <script>
    const mario = document.querySelector(".mario");
    const pipe = document.querySelector('.pipe');

    const jump = () => {
      mario.classList.add("jump");
      setTimeout(() => {
        mario.classList.remove("jump");
      }, 500);
    };

    const loop = setInterval(() => {
      const pipePosition = pipe.offsetLeft;
      // acessando a propriedade bottom do mario e convertendo para numero
      const marioPosition = +window.getComputedStyle(mario).bottom.replace( 'px', '' );

      // Verifica se o m√°rio tocou no objeto 
      if(pipePosition <= 70 && pipePosition > 0 && marioPosition < 100){
        pipe.style.animation = "none";
        pipe.style.left = `${pipePosition}px`;
        mario.style.animation = "none";
        mario.style.bottom = `${marioPosition}px`;

        mario.src = './images/game-over.png';
        mario.style.width = '60px';
        mario.style.marginLeft = '50px';

        clearInterval(loop);
      }
    }, 10)

    document.addEventListener("keydown", jump);

  </script>

</body>

</html>